# 目录操作

## chdir 函数

### 修改当前进程的路径

### 函数原型：int chdir(const char *path);

## getcwd 函数

### 获取当前进程工作目录

### 函数原型：char *getcwd(char *buf, size_t size);

## mkdir 函数

### 作用：创建目录

### 注意：创建的目录需要有执行权限，否则无法进入目录

### 函数原型

- int mkdir(const char *pathname, mode_t mode);

## rmdir 函数

### 作用：删除一个空目录

### 函数原型：int rmdir(const char *pathname);

## opendir 函数

### 作用：打开一个目录

### 函数原型：DIR *opendir(const char *name);

### 返回值

- DIR结构指针，该结构是一个内部结构，保存所打开的目录信息，作用类似于FILE结构
- 函数出错返回 NULL

## readdir 函数

### 作用：读目录

### 函数原型：struct dirent *readdir(DIR *dirp);

### 返回值

- 返回一条记录项
struct dirent
{
    ino_t d_ino;               // 此目录进入点的inode
    ff_t d_off;                // 目录文件开头至此目录进入点的位移
    signed short int d_reclen; // d_name 的长度, 不包含NULL 字符
    unsigned char d_type;      // d_name 所指的文件类型 
    har d_name[256];	       // 文件名
};

	- d_type

		- DT_BLK - 块设备
		- DT_CHR - 字符设备
		- DT_DIR - 目录
		- DT_LNK - 软连接
		- DT_FIFO - 管道
		- DT_REG - 普通文件
		- DT_SOCK - 套接字
		- DT_UNKNOWN - 未知

	- -D_BSD_SOURCE 编译时添加宏定义

## closedir 函数

### 作用：关闭目录

*XMind - Trial Version*